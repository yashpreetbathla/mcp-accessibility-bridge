# Example: Playwright Tests Generated with MCP Accessibility Bridge

This example project contains a complete Playwright test suite for GitHub — built entirely using selectors generated by Claude + MCP Accessibility Bridge. Zero time was spent in Chrome DevTools.

## What's in here

```
playwright-github-tests/
├── playwright.config.ts
├── package.json
├── selectors/
│   └── github.selectors.ts      ← selector library generated by Claude
└── tests/
    ├── github-home.spec.ts       ← home page tests
    ├── github-login.spec.ts      ← login form tests (happy path + a11y)
    ├── github-search.spec.ts     ← search flow tests
    └── accessibility-audit.spec.ts ← WCAG 2.1 AA audit tests
```

## The Workflow That Created This

Every selector in this suite came from one of these Claude prompts:

```
"Navigate to https://github.com and list all interactive elements
 with Playwright selectors."

"Navigate to https://github.com/login. Show me the full accessibility
 tree. Write a Playwright test for the login form."

"Run an accessibility audit on the login page. Check for missing labels,
 heading hierarchy, and focus management. Write tests for each."
```

Claude called:
- `browser_connect` → connect to Chrome
- `browser_navigate` → go to each URL
- `get_interactive_elements` → all buttons, inputs, links with selectors
- `get_accessibility_tree` → full page AX tree for audit
- `query_accessibility_tree` → targeted role searches
- `get_focused_element` → verify keyboard tab order

Then wrote the test files directly from the tool output.

## How to Run

```bash
npm install
npx playwright install chromium

# Run all tests
npm test

# Run headed (watch the browser)
npm run test:headed

# Open the interactive UI
npm run test:ui

# View HTML report
npm run report
```

## Why These Selectors Are Better

Compare a traditional approach vs. MCP-generated:

### Traditional (brittle)
```typescript
// Breaks if GitHub changes its CSS classes
await page.click('.btn-primary.js-sign-in-btn');

// Breaks if the element ID is renamed
await page.click('#login_field');

// Breaks on React re-render if nth-child changes
await page.click('form > div:nth-child(2) > input');
```

### MCP Accessibility Bridge (stable)
```typescript
// Stable: tied to the button's semantic purpose, not its implementation
await page.getByRole('button', { name: 'Sign in' }).click();

// Stable: tied to what a screen reader would say
await page.getByRole('textbox', { name: 'Username or email address' }).fill('user@example.com');

// Stable: test IDs survive visual redesigns entirely
await page.getByTestId('search-input').fill('playwright');
```

The ARIA role + name combination changes only if the button's **purpose** changes — which is exactly when your test *should* break.
